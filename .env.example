# Reflexion Agent Boilerplate - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# LLM Provider Configuration
# =============================================================================

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_ORG_ID=your-openai-org-id-here
# Available models: gpt-4, gpt-4-turbo, gpt-3.5-turbo
OPENAI_DEFAULT_MODEL=gpt-4

# Anthropic Configuration  
ANTHROPIC_API_KEY=your-anthropic-api-key-here
# Available models: claude-3-opus, claude-3-sonnet, claude-3-haiku
ANTHROPIC_DEFAULT_MODEL=claude-3-sonnet

# Google Configuration
GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_PROJECT_ID=your-google-project-id
# Available models: gemini-pro, gemini-pro-vision
GOOGLE_DEFAULT_MODEL=gemini-pro

# Azure OpenAI Configuration
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-azure-api-key
AZURE_OPENAI_API_VERSION=2024-02-01
AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name

# =============================================================================
# Reflexion Engine Configuration
# =============================================================================

# Core Reflexion Settings
REFLEXION_MAX_ITERATIONS=3
REFLEXION_DEFAULT_TIMEOUT=300
REFLEXION_VERBOSE=true
REFLEXION_DEBUG=false

# Reflection Type: binary, scalar, structured
REFLEXION_TYPE=structured

# Success Criteria
REFLEXION_SUCCESS_THRESHOLD=0.8
REFLEXION_CONFIDENCE_THRESHOLD=0.7

# Retry Configuration
REFLEXION_MAX_RETRIES=2
REFLEXION_RETRY_DELAY=1.0
REFLEXION_BACKOFF_FACTOR=2.0

# =============================================================================
# Memory System Configuration  
# =============================================================================

# Memory Type: none, episodic, semantic, hybrid
REFLEXION_MEMORY_TYPE=episodic

# Episodic Memory Settings
MEMORY_SHORT_TERM_CAPACITY=100
MEMORY_LONG_TERM_THRESHOLD=0.8
MEMORY_CONSOLIDATION_INTERVAL=3600

# Memory Storage Backend: local, postgresql, redis, s3
MEMORY_BACKEND=local
MEMORY_LOCAL_PATH=./data/memory

# PostgreSQL Memory Backend
MEMORY_POSTGRES_HOST=localhost
MEMORY_POSTGRES_PORT=5432
MEMORY_POSTGRES_DB=reflexion_memory
MEMORY_POSTGRES_USER=reflexion
MEMORY_POSTGRES_PASSWORD=your-postgres-password

# Redis Memory Backend
MEMORY_REDIS_HOST=localhost
MEMORY_REDIS_PORT=6379
MEMORY_REDIS_DB=0
MEMORY_REDIS_PASSWORD=your-redis-password

# Embedding Configuration
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIMENSIONS=1536
EMBEDDING_BATCH_SIZE=100

# =============================================================================
# Evaluation Configuration
# =============================================================================

# Default Evaluator: basic, code_quality, research, creative
REFLEXION_DEFAULT_EVALUATOR=basic

# Custom Evaluation Settings
EVALUATION_TIMEOUT=60
EVALUATION_BATCH_SIZE=10
EVALUATION_CACHE_RESULTS=true

# Test Execution (for code evaluation)
CODE_EXECUTION_TIMEOUT=30
CODE_EXECUTION_DOCKER=true
CODE_EXECUTION_SANDBOX=true

# =============================================================================
# Framework Integration
# =============================================================================

# AutoGen Configuration
AUTOGEN_CACHE_SEED=42
AUTOGEN_TEMPERATURE=0.1
AUTOGEN_MAX_CONSECUTIVE_AUTO_REPLY=10

# CrewAI Configuration  
CREWAI_VERBOSE=true
CREWAI_MEMORY=true
CREWAI_MAX_EXECUTION_TIME=300

# LangChain Configuration
LANGCHAIN_TRACING_V2=true
LANGCHAIN_API_KEY=your-langsmith-api-key
LANGCHAIN_PROJECT=reflexion-project

# =============================================================================
# Monitoring and Observability
# =============================================================================

# Telemetry Configuration
TELEMETRY_ENABLED=true
TELEMETRY_ENDPOINT=http://localhost:4317
TELEMETRY_SERVICE_NAME=reflexion-agent

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8000
PROMETHEUS_PATH=/metrics

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/reflexion.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Sentry Error Tracking (Optional)
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# Performance Configuration
# =============================================================================

# Concurrent Processing
MAX_CONCURRENT_AGENTS=10
MAX_CONCURRENT_REFLECTIONS=5
MAX_CONCURRENT_EVALUATIONS=3

# Rate Limiting (requests per minute)
RATE_LIMIT_RPM=60
RATE_LIMIT_BURST=10

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_BACKEND=memory
# Alternative: redis, memcached

# Token Usage Limits (Optional)
MAX_TOKENS_PER_REQUEST=4000
MAX_TOKENS_PER_HOUR=100000
TOKEN_BUDGET_ENABLED=false

# =============================================================================
# Security Configuration
# =============================================================================

# API Security
API_RATE_LIMIT=1000
API_KEY_ROTATION_DAYS=90
API_ENCRYPTION_KEY=your-32-char-encryption-key-here

# Content Filtering
CONTENT_FILTER_ENABLED=true
CONTENT_FILTER_LEVEL=medium

# Privacy Settings
ANONYMIZE_LOGS=true
DATA_RETENTION_DAYS=365
GDPR_COMPLIANCE=true

# =============================================================================
# Development Configuration
# =============================================================================

# Development Mode
DEVELOPMENT_MODE=true
DEV_SERVER_PORT=8080
DEV_AUTO_RELOAD=true

# Testing Configuration
TEST_DATABASE_URL=sqlite:///./test.db
TEST_MOCK_LLM_RESPONSES=true
TEST_TIMEOUT=30

# Debug Configuration
DEBUG_SAVE_CONVERSATIONS=true
DEBUG_CONVERSATION_PATH=./debug/conversations
DEBUG_PROFILING_ENABLED=false

# =============================================================================
# Deployment Configuration
# =============================================================================

# Production Settings (set DEVELOPMENT_MODE=false for production)
PRODUCTION_SECRET_KEY=your-production-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# Database Configuration (Production)
DATABASE_URL=postgresql://user:password@localhost:5432/reflexion_prod

# Load Balancer Configuration
HEALTH_CHECK_ENDPOINT=/health
READINESS_CHECK_ENDPOINT=/ready
METRICS_ENDPOINT=/metrics

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# =============================================================================
# Feature Flags
# =============================================================================

# Experimental Features
ENABLE_HIERARCHICAL_REFLECTION=false
ENABLE_CROSS_AGENT_LEARNING=false
ENABLE_MULTI_MODAL_REFLECTION=false
ENABLE_REAL_TIME_LEARNING=false

# Performance Features
ENABLE_ASYNC_PROCESSING=true
ENABLE_BATCH_PROCESSING=true
ENABLE_RESULT_CACHING=true

# Integration Features
ENABLE_WEBHOOK_NOTIFICATIONS=false
ENABLE_SLACK_INTEGRATION=false
ENABLE_DISCORD_INTEGRATION=false

# =============================================================================
# Custom Configuration
# =============================================================================

# Add your custom environment variables here
# CUSTOM_SETTING_1=value1
# CUSTOM_SETTING_2=value2